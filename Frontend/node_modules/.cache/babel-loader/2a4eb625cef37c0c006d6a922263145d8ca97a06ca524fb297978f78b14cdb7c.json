{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gv250\\\\OneDrive\\\\Escritorio\\\\Productos\\\\frontend\\\\src\\\\components\\\\Vuelos.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport '../css/SimuladorVuelo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Vuelos = () => {\n  _s();\n  const location = useLocation();\n  const userId = localStorage.getItem('userId');\n  const [vuelos, setVuelos] = useState([]);\n  const [progressMap, setProgressMap] = useState({});\n  const [distanceMap, setDistanceMap] = useState({});\n  const [timeRemainingMap, setTimeRemainingMap] = useState({});\n  const [completedMap, setCompletedMap] = useState({});\n  const [startTimeMap, setStartTimeMap] = useState({});\n  const [durationMap, setDurationMap] = useState({});\n  const [currentTime, setCurrentTime] = useState(Date.now());\n  const [loading, setLoading] = useState(false);\n\n  // ‚è±Ô∏è Actualizar reloj interno cada segundo\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(Date.now());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // üöÅ Obtener vuelos pendientes\n  useEffect(() => {\n    if (!userId) return;\n    fetch(`http://localhost:8081/api/vuelos/usuario/${userId}`).then(res => {\n      if (!res.ok) throw new Error('Error al obtener vuelos');\n      return res.json();\n    }).then(data => {\n      console.log('Vuelos recibidos:', data); // Debug\n      const vuelosPendientes = data.filter(vuelo => {\n        var _vuelo$solicitud, _vuelo$solicitud$esta, _vuelo$solicitud$esta2;\n        return (vuelo === null || vuelo === void 0 ? void 0 : (_vuelo$solicitud = vuelo.solicitud) === null || _vuelo$solicitud === void 0 ? void 0 : (_vuelo$solicitud$esta = _vuelo$solicitud.estado) === null || _vuelo$solicitud$esta === void 0 ? void 0 : (_vuelo$solicitud$esta2 = _vuelo$solicitud$esta.toLowerCase) === null || _vuelo$solicitud$esta2 === void 0 ? void 0 : _vuelo$solicitud$esta2.call(_vuelo$solicitud$esta)) === 'pendiente';\n      });\n      setVuelos(vuelosPendientes);\n      vuelosPendientes.forEach(vuelo => startFlightSimulation(vuelo.id));\n    }).catch(err => {\n      console.error('Error obteniendo vuelos:', err);\n      alert('‚ùå Error al obtener vuelos: ' + err.message);\n    });\n  }, [userId]);\n\n  // ‚ñ∂Ô∏è Simulaci√≥n de vuelo\n  const startFlightSimulation = vueloId => {\n    const flightDuration = Math.floor(Math.random() * 60) + 120;\n    const totalDistance = Math.floor(Math.random() * 3) + 3;\n    let elapsed = 0;\n    setStartTimeMap(prev => ({\n      ...prev,\n      [vueloId]: Date.now()\n    }));\n    setDurationMap(prev => ({\n      ...prev,\n      [vueloId]: flightDuration\n    }));\n    const interval = setInterval(() => {\n      elapsed += 1;\n      const progressPercent = Math.min(elapsed / flightDuration * 100, 100);\n      const distanceTraveled = (totalDistance * (elapsed / flightDuration)).toFixed(2);\n      setProgressMap(prev => ({\n        ...prev,\n        [vueloId]: progressPercent\n      }));\n      setDistanceMap(prev => ({\n        ...prev,\n        [vueloId]: distanceTraveled\n      }));\n      setTimeRemainingMap(prev => ({\n        ...prev,\n        [vueloId]: flightDuration - elapsed\n      }));\n      if (elapsed >= flightDuration) {\n        clearInterval(interval);\n        setCompletedMap(prev => ({\n          ...prev,\n          [vueloId]: true\n        }));\n      }\n    }, 1000);\n  };\n\n  // ‚úÖ Confirmar llegada\n  const confirmarLlegada = async vuelo => {\n    try {\n      setLoading(true);\n      const distanciaKm = parseFloat(distanceMap[vuelo.id]) || 0;\n      const estadoFinal = 'exitoso';\n      const startTime = startTimeMap[vuelo.id];\n      const endTime = Date.now();\n      const durationMs = endTime - startTime;\n      const durationMin = Math.round(durationMs / 60000);\n      const resVuelo = await fetch(`http://localhost:8081/api/vuelos/${vuelo.id}/finalizar?estadoFinal=${estadoFinal}&distanciaKm=${distanciaKm}&duracionMinutos=${durationMin}`, {\n        method: 'PATCH'\n      });\n      if (!resVuelo.ok) throw new Error('Error al finalizar vuelo');\n      const resSolicitud = await fetch(`http://localhost:8081/api/solicitudes/${vuelo.solicitud.id}/estado?nuevoEstado=confirmado`, {\n        method: 'PATCH'\n      });\n      if (!resSolicitud.ok) throw new Error('Error al actualizar estado de solicitud');\n      alert('‚úÖ Entrega confirmada correctamente');\n\n      // Limpiar vuelo confirmado\n      setVuelos(prev => prev.filter(v => v.id !== vuelo.id));\n      const clearMapKey = map => {\n        const {\n          [vuelo.id]: _,\n          ...rest\n        } = map;\n        return rest;\n      };\n      setProgressMap(prev => clearMapKey(prev));\n      setDistanceMap(prev => clearMapKey(prev));\n      setTimeRemainingMap(prev => clearMapKey(prev));\n      setCompletedMap(prev => clearMapKey(prev));\n      setStartTimeMap(prev => clearMapKey(prev));\n      setDurationMap(prev => clearMapKey(prev));\n    } catch (err) {\n      console.error('Error confirmando llegada:', err);\n      alert('‚ùå ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const formatElapsedTime = start => {\n    const elapsedMs = currentTime - start;\n    const minutes = Math.floor(elapsedMs / 60000);\n    const seconds = Math.floor(elapsedMs % 60000 / 1000);\n    return `${minutes}m ${seconds}s`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"vuelo-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Vuelos Actuales \\uD83D\\uDE81\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), vuelos.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No hay vuelos registrados.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this) : vuelos.map(vuelo => {\n      const elapsedSeconds = Math.floor((currentTime - (startTimeMap[vuelo.id] || 0)) / 1000);\n      const flightDuration = durationMap[vuelo.id] || 1;\n      const elapsedPercent = Math.min(elapsedSeconds / flightDuration * 100, 100);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vuelo-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ID Vuelo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 18\n          }, this), \" \", vuelo.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Solicitud:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 18\n          }, this), \" \", vuelo.solicitud.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress\",\n            style: {\n              width: `${progressMap[vuelo.id] || 0}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Progreso: \", (progressMap[vuelo.id] || 0).toFixed(0), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar small-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress\",\n            style: {\n              width: `${elapsedPercent}%`,\n              backgroundColor: '#8bc34a'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Tiempo transcurrido: \", startTimeMap[vuelo.id] ? formatElapsedTime(startTimeMap[vuelo.id]) : '0m 0s']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Distancia: \", distanceMap[vuelo.id] || 0, \" km\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Tiempo restante: \", timeRemainingMap[vuelo.id] || 0, \" seg\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }, this), completedMap[vuelo.id] && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"confirm-button\",\n          onClick: () => confirmarLlegada(vuelo),\n          disabled: loading,\n          children: loading ? 'Confirmando...' : 'Confirmar llegada de env√≠o'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }, this)]\n      }, vuelo.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_s(Vuelos, \"jl7jRGvWDb76fZZG296toswevu8=\", false, function () {\n  return [useLocation];\n});\n_c = Vuelos;\nexport default Vuelos;\nvar _c;\n$RefreshReg$(_c, \"Vuelos\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","jsxDEV","_jsxDEV","Vuelos","_s","location","userId","localStorage","getItem","vuelos","setVuelos","progressMap","setProgressMap","distanceMap","setDistanceMap","timeRemainingMap","setTimeRemainingMap","completedMap","setCompletedMap","startTimeMap","setStartTimeMap","durationMap","setDurationMap","currentTime","setCurrentTime","Date","now","loading","setLoading","interval","setInterval","clearInterval","fetch","then","res","ok","Error","json","data","console","log","vuelosPendientes","filter","vuelo","_vuelo$solicitud","_vuelo$solicitud$esta","_vuelo$solicitud$esta2","solicitud","estado","toLowerCase","call","forEach","startFlightSimulation","id","catch","err","error","alert","message","vueloId","flightDuration","Math","floor","random","totalDistance","elapsed","prev","progressPercent","min","distanceTraveled","toFixed","confirmarLlegada","distanciaKm","parseFloat","estadoFinal","startTime","endTime","durationMs","durationMin","round","resVuelo","method","resSolicitud","v","clearMapKey","map","_","rest","formatElapsedTime","start","elapsedMs","minutes","seconds","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","elapsedSeconds","elapsedPercent","style","width","backgroundColor","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/gv250/OneDrive/Escritorio/Productos/frontend/src/components/Vuelos.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport '../css/SimuladorVuelo.css';\r\n\r\nconst Vuelos = () => {\r\n  const location = useLocation();\r\n  const userId = localStorage.getItem('userId');\r\n\r\n  const [vuelos, setVuelos] = useState([]);\r\n  const [progressMap, setProgressMap] = useState({});\r\n  const [distanceMap, setDistanceMap] = useState({});\r\n  const [timeRemainingMap, setTimeRemainingMap] = useState({});\r\n  const [completedMap, setCompletedMap] = useState({});\r\n  const [startTimeMap, setStartTimeMap] = useState({});\r\n  const [durationMap, setDurationMap] = useState({});\r\n  const [currentTime, setCurrentTime] = useState(Date.now());\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // ‚è±Ô∏è Actualizar reloj interno cada segundo\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCurrentTime(Date.now());\r\n    }, 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // üöÅ Obtener vuelos pendientes\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n\r\n    fetch(`http://localhost:8081/api/vuelos/usuario/${userId}`)\r\n      .then(res => {\r\n        if (!res.ok) throw new Error('Error al obtener vuelos');\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        console.log('Vuelos recibidos:', data); // Debug\r\n        const vuelosPendientes = data.filter(vuelo =>\r\n          vuelo?.solicitud?.estado?.toLowerCase?.() === 'pendiente'\r\n        );\r\n        setVuelos(vuelosPendientes);\r\n        vuelosPendientes.forEach(vuelo => startFlightSimulation(vuelo.id));\r\n      })\r\n      .catch(err => {\r\n        console.error('Error obteniendo vuelos:', err);\r\n        alert('‚ùå Error al obtener vuelos: ' + err.message);\r\n      });\r\n  }, [userId]);\r\n\r\n  // ‚ñ∂Ô∏è Simulaci√≥n de vuelo\r\n  const startFlightSimulation = (vueloId) => {\r\n    const flightDuration = Math.floor(Math.random() * 60) + 120;\r\n    const totalDistance = Math.floor(Math.random() * 3) + 3;\r\n    let elapsed = 0;\r\n\r\n    setStartTimeMap(prev => ({ ...prev, [vueloId]: Date.now() }));\r\n    setDurationMap(prev => ({ ...prev, [vueloId]: flightDuration }));\r\n\r\n    const interval = setInterval(() => {\r\n      elapsed += 1;\r\n      const progressPercent = Math.min((elapsed / flightDuration) * 100, 100);\r\n      const distanceTraveled = (totalDistance * (elapsed / flightDuration)).toFixed(2);\r\n\r\n      setProgressMap(prev => ({ ...prev, [vueloId]: progressPercent }));\r\n      setDistanceMap(prev => ({ ...prev, [vueloId]: distanceTraveled }));\r\n      setTimeRemainingMap(prev => ({ ...prev, [vueloId]: flightDuration - elapsed }));\r\n\r\n      if (elapsed >= flightDuration) {\r\n        clearInterval(interval);\r\n        setCompletedMap(prev => ({ ...prev, [vueloId]: true }));\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  // ‚úÖ Confirmar llegada\r\n  const confirmarLlegada = async (vuelo) => {\r\n    try {\r\n      setLoading(true);\r\n      const distanciaKm = parseFloat(distanceMap[vuelo.id]) || 0;\r\n      const estadoFinal = 'exitoso';\r\n      const startTime = startTimeMap[vuelo.id];\r\n      const endTime = Date.now();\r\n      const durationMs = endTime - startTime;\r\n      const durationMin = Math.round(durationMs / 60000);\r\n\r\n      const resVuelo = await fetch(\r\n        `http://localhost:8081/api/vuelos/${vuelo.id}/finalizar?estadoFinal=${estadoFinal}&distanciaKm=${distanciaKm}&duracionMinutos=${durationMin}`,\r\n        { method: 'PATCH' }\r\n      );\r\n      if (!resVuelo.ok) throw new Error('Error al finalizar vuelo');\r\n\r\n      const resSolicitud = await fetch(\r\n        `http://localhost:8081/api/solicitudes/${vuelo.solicitud.id}/estado?nuevoEstado=confirmado`,\r\n        { method: 'PATCH' }\r\n      );\r\n      if (!resSolicitud.ok) throw new Error('Error al actualizar estado de solicitud');\r\n\r\n      alert('‚úÖ Entrega confirmada correctamente');\r\n\r\n      // Limpiar vuelo confirmado\r\n      setVuelos(prev => prev.filter(v => v.id !== vuelo.id));\r\n\r\n      const clearMapKey = (map) => {\r\n        const { [vuelo.id]: _, ...rest } = map;\r\n        return rest;\r\n      };\r\n\r\n      setProgressMap(prev => clearMapKey(prev));\r\n      setDistanceMap(prev => clearMapKey(prev));\r\n      setTimeRemainingMap(prev => clearMapKey(prev));\r\n      setCompletedMap(prev => clearMapKey(prev));\r\n      setStartTimeMap(prev => clearMapKey(prev));\r\n      setDurationMap(prev => clearMapKey(prev));\r\n\r\n    } catch (err) {\r\n      console.error('Error confirmando llegada:', err);\r\n      alert('‚ùå ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatElapsedTime = (start) => {\r\n    const elapsedMs = currentTime - start;\r\n    const minutes = Math.floor(elapsedMs / 60000);\r\n    const seconds = Math.floor((elapsedMs % 60000) / 1000);\r\n    return `${minutes}m ${seconds}s`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"vuelo-container\">\r\n      <h2>Vuelos Actuales üöÅ</h2>\r\n      {vuelos.length === 0 ? (\r\n        <p>No hay vuelos registrados.</p>\r\n      ) : (\r\n        vuelos.map(vuelo => {\r\n          const elapsedSeconds = Math.floor((currentTime - (startTimeMap[vuelo.id] || 0)) / 1000);\r\n          const flightDuration = durationMap[vuelo.id] || 1;\r\n          const elapsedPercent = Math.min((elapsedSeconds / flightDuration) * 100, 100);\r\n\r\n          return (\r\n            <div key={vuelo.id} className=\"vuelo-card\">\r\n              <p><strong>ID Vuelo:</strong> {vuelo.id}</p>\r\n              <p><strong>Solicitud:</strong> {vuelo.solicitud.id}</p>\r\n\r\n              {/* Barra principal */}\r\n              <div className=\"progress-bar\">\r\n                <div className=\"progress\" style={{ width: `${progressMap[vuelo.id] || 0}%` }}></div>\r\n              </div>\r\n              <p>Progreso: {(progressMap[vuelo.id] || 0).toFixed(0)}%</p>\r\n\r\n              {/* Barra de tiempo real */}\r\n              <div className=\"progress-bar small-bar\">\r\n                <div className=\"progress\" style={{ width: `${elapsedPercent}%`, backgroundColor: '#8bc34a' }}></div>\r\n              </div>\r\n              <p>Tiempo transcurrido: {startTimeMap[vuelo.id] ? formatElapsedTime(startTimeMap[vuelo.id]) : '0m 0s'}</p>\r\n\r\n              <p>Distancia: {distanceMap[vuelo.id] || 0} km</p>\r\n              <p>Tiempo restante: {timeRemainingMap[vuelo.id] || 0} seg</p>\r\n\r\n              {completedMap[vuelo.id] && (\r\n                <button\r\n                  className=\"confirm-button\"\r\n                  onClick={() => confirmarLlegada(vuelo)}\r\n                  disabled={loading}\r\n                >\r\n                  {loading ? 'Confirmando...' : 'Confirmar llegada de env√≠o'}\r\n                </button>\r\n              )}\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Vuelos;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}