{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gv250\\\\OneDrive\\\\Escritorio\\\\Productos\\\\frontend\\\\src\\\\components\\\\LocationStep.jsx\",\n  _s = $RefreshSig$();\n// components/LocationStep.jsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationStep = ({\n  location,\n  setLocation,\n  loading,\n  setLoading,\n  error,\n  setError,\n  onNext,\n  canProceed\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n  const [marker, setMarker] = useState(null);\n\n  // Regiones disponibles\n  const regions = [{\n    value: 'amazonas',\n    label: 'Amazonas'\n  }, {\n    value: 'cusco',\n    label: 'Cusco'\n  }, {\n    value: 'puno',\n    label: 'Puno'\n  }, {\n    value: 'arequipa',\n    label: 'Arequipa'\n  }];\n\n  // Inicializar mapa\n  useEffect(() => {\n    let mapInstance = null;\n    let timeoutId = null;\n    const initializeMap = () => {\n      if (mapInstance) {\n        mapInstance.remove();\n        mapInstance = null;\n      }\n      if (!mapRef.current) {\n        console.log('Contenedor del mapa no encontrado');\n        return;\n      }\n      mapRef.current.innerHTML = '';\n      const createMap = () => {\n        try {\n          if (!window.L) {\n            console.log('Leaflet no est√° disponible a√∫n');\n            return;\n          }\n          mapInstance = window.L.map(mapRef.current, {\n            center: [-9.189967, -75.015152],\n            zoom: 6,\n            zoomControl: true,\n            attributionControl: true\n          });\n          window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '¬© OpenStreetMap contributors',\n            maxZoom: 19\n          }).addTo(mapInstance);\n          setMap(mapInstance);\n          if (marker && mapInstance.hasLayer && mapInstance.hasLayer(marker)) {\n            mapInstance.removeLayer(marker);\n            setMarker(null);\n          }\n          mapInstance.on('click', async e => {\n            const {\n              lat,\n              lng\n            } = e.latlng;\n            if (marker && mapInstance.hasLayer(marker)) {\n              mapInstance.removeLayer(marker);\n            }\n            const newMarker = window.L.marker([lat, lng]).addTo(mapInstance);\n            setMarker(newMarker);\n            try {\n              const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&addressdetails=1`);\n              const data = await response.json();\n              if (data && data.display_name) {\n                setLocation(prev => ({\n                  ...prev,\n                  address: data.display_name,\n                  coordinates: {\n                    lat,\n                    lng\n                  }\n                }));\n              }\n            } catch (error) {\n              console.error('Error al obtener direcci√≥n:', error);\n              setLocation(prev => ({\n                ...prev,\n                address: `Coordenadas: ${lat.toFixed(6)}, ${lng.toFixed(6)}`,\n                coordinates: {\n                  lat,\n                  lng\n                }\n              }));\n            }\n          });\n          console.log('Mapa inicializado correctamente');\n        } catch (error) {\n          console.error('Error al crear mapa:', error);\n        }\n      };\n      const loadLeafletResources = () => {\n        if (!document.querySelector('link[href*=\"leaflet\"]')) {\n          const link = document.createElement('link');\n          link.rel = 'stylesheet';\n          link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\n          link.onload = () => console.log('CSS de Leaflet cargado');\n          document.head.appendChild(link);\n        }\n        if (!window.L) {\n          const script = document.createElement('script');\n          script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\n          script.onload = () => {\n            console.log('JavaScript de Leaflet cargado');\n            timeoutId = setTimeout(createMap, 100);\n          };\n          script.onerror = () => {\n            console.error('Error al cargar Leaflet');\n          };\n          document.head.appendChild(script);\n        } else {\n          createMap();\n        }\n      };\n      loadLeafletResources();\n    };\n    timeoutId = setTimeout(initializeMap, 50);\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      if (mapInstance) {\n        try {\n          mapInstance.remove();\n        } catch (error) {\n          console.error('Error al limpiar mapa:', error);\n        }\n      }\n    };\n  }, []);\n\n  // Obtener ubicaci√≥n actual\n  const getCurrentLocation = () => {\n    setLoading(true);\n    setError('');\n    if (!navigator.geolocation) {\n      setError('La geolocalizaci√≥n no est√° soportada en este navegador');\n      setLoading(false);\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async position => {\n      try {\n        const lat = position.coords.latitude;\n        const lng = position.coords.longitude;\n        if (!map || !window.L) {\n          setError('El mapa no est√° disponible. Intenta recargar la p√°gina.');\n          setLoading(false);\n          return;\n        }\n        if (typeof map.setView !== 'function') {\n          setError('Error en la inicializaci√≥n del mapa. Intenta recargar la p√°gina.');\n          setLoading(false);\n          return;\n        }\n        map.setView([lat, lng], 15);\n        if (marker && map.hasLayer && map.hasLayer(marker)) {\n          map.removeLayer(marker);\n        }\n        const newMarker = window.L.marker([lat, lng]).addTo(map);\n        setMarker(newMarker);\n        try {\n          const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&addressdetails=1`, {\n            timeout: 10000\n          });\n          if (!response.ok) {\n            throw new Error(`HTTP ${response.status}`);\n          }\n          const data = await response.json();\n          if (data && data.display_name) {\n            setLocation(prev => ({\n              ...prev,\n              address: data.display_name,\n              coordinates: {\n                lat,\n                lng\n              }\n            }));\n          } else {\n            setLocation(prev => ({\n              ...prev,\n              address: `Coordenadas: ${lat.toFixed(6)}, ${lng.toFixed(6)}`,\n              coordinates: {\n                lat,\n                lng\n              }\n            }));\n          }\n        } catch (error) {\n          console.warn('Error al obtener direcci√≥n, usando coordenadas:', error);\n          setLocation(prev => ({\n            ...prev,\n            address: `Coordenadas: ${lat.toFixed(6)}, ${lng.toFixed(6)}`,\n            coordinates: {\n              lat,\n              lng\n            }\n          }));\n        }\n      } catch (error) {\n        console.error('Error al procesar ubicaci√≥n:', error);\n        setError('Error al procesar la ubicaci√≥n obtenida');\n      } finally {\n        setLoading(false);\n      }\n    }, error => {\n      let errorMessage = 'No se pudo obtener la ubicaci√≥n actual';\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          errorMessage = 'Permiso de ubicaci√≥n denegado. Por favor, permite el acceso a tu ubicaci√≥n.';\n          break;\n        case error.POSITION_UNAVAILABLE:\n          errorMessage = 'Informaci√≥n de ubicaci√≥n no disponible.';\n          break;\n        case error.TIMEOUT:\n          errorMessage = 'Tiempo de espera agotado al obtener ubicaci√≥n.';\n          break;\n        default:\n          errorMessage = 'Error desconocido al obtener ubicaci√≥n.';\n          break;\n      }\n      setError(errorMessage);\n      setLoading(false);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 15000,\n      maximumAge: 60000\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"step-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"step-title\",\n      children: \"Selecciona tu Ubicaci\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"region-selector\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Regi\\xF3n:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: location.region,\n        onChange: e => setLocation(prev => ({\n          ...prev,\n          region: e.target.value\n        })),\n        className: \"select\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecciona una regi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), regions.map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: region.value,\n          children: region.label\n        }, region.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: getCurrentLocation,\n          disabled: loading,\n          className: \"location-button\",\n          children: loading ? 'Obteniendo ubicaci√≥n...' : 'Usar mi ubicaci√≥n actual'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"map-instructions\",\n          children: \"\\uD83D\\uDCCD Haz clic en el mapa para seleccionar tu ubicaci\\xF3n de entrega\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: mapRef,\n        className: \"map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), location.address && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"address-confirmation\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"address-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Direcci\\xF3n seleccionada:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 55\n          }, this), location.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmation-buttons\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setLocation(prev => ({\n              ...prev,\n              confirmed: true\n            })),\n            className: `button ${location.confirmed ? 'confirmed-button' : 'confirm-button'}`,\n            children: location.confirmed ? '‚úì Confirmado' : 'Confirmar ubicaci√≥n'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navigation-buttons\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onNext,\n        disabled: !canProceed,\n        className: `button next-button ${!canProceed ? 'disabled-button' : ''}`,\n        children: \"Siguiente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationStep, \"p9IAaHvVzU7Dt3IyPXE7ez/5dTc=\");\n_c = LocationStep;\nexport default LocationStep;\nvar _c;\n$RefreshReg$(_c, \"LocationStep\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","LocationStep","location","setLocation","loading","setLoading","error","setError","onNext","canProceed","_s","mapRef","map","setMap","marker","setMarker","regions","value","label","mapInstance","timeoutId","initializeMap","remove","current","console","log","innerHTML","createMap","window","L","center","zoom","zoomControl","attributionControl","tileLayer","attribution","maxZoom","addTo","hasLayer","removeLayer","on","e","lat","lng","latlng","newMarker","response","fetch","data","json","display_name","prev","address","coordinates","toFixed","loadLeafletResources","document","querySelector","link","createElement","rel","href","onload","head","appendChild","script","src","setTimeout","onerror","clearTimeout","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","setView","timeout","ok","Error","status","warn","errorMessage","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","maximumAge","className","children","fileName","_jsxFileName","lineNumber","columnNumber","region","onChange","target","type","onClick","disabled","ref","confirmed","_c","$RefreshReg$"],"sources":["C:/Users/gv250/OneDrive/Escritorio/Productos/frontend/src/components/LocationStep.jsx"],"sourcesContent":["// components/LocationStep.jsx\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n\r\nconst LocationStep = ({ \r\n  location, \r\n  setLocation, \r\n  loading, \r\n  setLoading, \r\n  error, \r\n  setError, \r\n  onNext, \r\n  canProceed \r\n}) => {\r\n  const mapRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [marker, setMarker] = useState(null);\r\n\r\n  // Regiones disponibles\r\n  const regions = [\r\n    { value: 'amazonas', label: 'Amazonas' },\r\n    { value: 'cusco', label: 'Cusco' },\r\n    { value: 'puno', label: 'Puno' },\r\n    { value: 'arequipa', label: 'Arequipa' }\r\n  ];\r\n\r\n  // Inicializar mapa\r\n  useEffect(() => {\r\n    let mapInstance = null;\r\n    let timeoutId = null;\r\n\r\n    const initializeMap = () => {\r\n      if (mapInstance) {\r\n        mapInstance.remove();\r\n        mapInstance = null;\r\n      }\r\n\r\n      if (!mapRef.current) {\r\n        console.log('Contenedor del mapa no encontrado');\r\n        return;\r\n      }\r\n\r\n      mapRef.current.innerHTML = '';\r\n\r\n      const createMap = () => {\r\n        try {\r\n          if (!window.L) {\r\n            console.log('Leaflet no est√° disponible a√∫n');\r\n            return;\r\n          }\r\n\r\n          mapInstance = window.L.map(mapRef.current, {\r\n            center: [-9.189967, -75.015152],\r\n            zoom: 6,\r\n            zoomControl: true,\r\n            attributionControl: true\r\n          });\r\n          \r\n          window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n            attribution: '¬© OpenStreetMap contributors',\r\n            maxZoom: 19\r\n          }).addTo(mapInstance);\r\n\r\n          setMap(mapInstance);\r\n\r\n          if (marker && mapInstance.hasLayer && mapInstance.hasLayer(marker)) {\r\n            mapInstance.removeLayer(marker);\r\n            setMarker(null);\r\n          }\r\n\r\n          mapInstance.on('click', async (e) => {\r\n            const { lat, lng } = e.latlng;\r\n            \r\n            if (marker && mapInstance.hasLayer(marker)) {\r\n              mapInstance.removeLayer(marker);\r\n            }\r\n            \r\n            const newMarker = window.L.marker([lat, lng]).addTo(mapInstance);\r\n            setMarker(newMarker);\r\n            \r\n            try {\r\n              const response = await fetch(\r\n                `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&addressdetails=1`\r\n              );\r\n              const data = await response.json();\r\n              \r\n              if (data && data.display_name) {\r\n                setLocation(prev => ({\r\n                  ...prev,\r\n                  address: data.display_name,\r\n                  coordinates: { lat, lng }\r\n                }));\r\n              }\r\n            } catch (error) {\r\n              console.error('Error al obtener direcci√≥n:', error);\r\n              setLocation(prev => ({\r\n                ...prev,\r\n                address: `Coordenadas: ${lat.toFixed(6)}, ${lng.toFixed(6)}`,\r\n                coordinates: { lat, lng }\r\n              }));\r\n            }\r\n          });\r\n\r\n          console.log('Mapa inicializado correctamente');\r\n        } catch (error) {\r\n          console.error('Error al crear mapa:', error);\r\n        }\r\n      };\r\n\r\n      const loadLeafletResources = () => {\r\n        if (!document.querySelector('link[href*=\"leaflet\"]')) {\r\n          const link = document.createElement('link');\r\n          link.rel = 'stylesheet';\r\n          link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\r\n          link.onload = () => console.log('CSS de Leaflet cargado');\r\n          document.head.appendChild(link);\r\n        }\r\n\r\n        if (!window.L) {\r\n          const script = document.createElement('script');\r\n          script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\r\n          script.onload = () => {\r\n            console.log('JavaScript de Leaflet cargado');\r\n            timeoutId = setTimeout(createMap, 100);\r\n          };\r\n          script.onerror = () => {\r\n            console.error('Error al cargar Leaflet');\r\n          };\r\n          document.head.appendChild(script);\r\n        } else {\r\n          createMap();\r\n        }\r\n      };\r\n\r\n      loadLeafletResources();\r\n    };\r\n\r\n    timeoutId = setTimeout(initializeMap, 50);\r\n\r\n    return () => {\r\n      if (timeoutId) {\r\n        clearTimeout(timeoutId);\r\n      }\r\n      if (mapInstance) {\r\n        try {\r\n          mapInstance.remove();\r\n        } catch (error) {\r\n          console.error('Error al limpiar mapa:', error);\r\n        }\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Obtener ubicaci√≥n actual\r\n  const getCurrentLocation = () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    if (!navigator.geolocation) {\r\n      setError('La geolocalizaci√≥n no est√° soportada en este navegador');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (position) => {\r\n        try {\r\n          const lat = position.coords.latitude;\r\n          const lng = position.coords.longitude;\r\n\r\n          if (!map || !window.L) {\r\n            setError('El mapa no est√° disponible. Intenta recargar la p√°gina.');\r\n            setLoading(false);\r\n            return;\r\n          }\r\n\r\n          if (typeof map.setView !== 'function') {\r\n            setError('Error en la inicializaci√≥n del mapa. Intenta recargar la p√°gina.');\r\n            setLoading(false);\r\n            return;\r\n          }\r\n\r\n          map.setView([lat, lng], 15);\r\n          \r\n          if (marker && map.hasLayer && map.hasLayer(marker)) {\r\n            map.removeLayer(marker);\r\n          }\r\n          \r\n          const newMarker = window.L.marker([lat, lng]).addTo(map);\r\n          setMarker(newMarker);\r\n          \r\n          try {\r\n            const response = await fetch(\r\n              `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&addressdetails=1`,\r\n              { timeout: 10000 }\r\n            );\r\n            \r\n            if (!response.ok) {\r\n              throw new Error(`HTTP ${response.status}`);\r\n            }\r\n            \r\n            const data = await response.json();\r\n            \r\n            if (data && data.display_name) {\r\n              setLocation(prev => ({\r\n                ...prev,\r\n                address: data.display_name,\r\n                coordinates: { lat, lng }\r\n              }));\r\n            } else {\r\n              setLocation(prev => ({\r\n                ...prev,\r\n                address: `Coordenadas: ${lat.toFixed(6)}, ${lng.toFixed(6)}`,\r\n                coordinates: { lat, lng }\r\n              }));\r\n            }\r\n          } catch (error) {\r\n            console.warn('Error al obtener direcci√≥n, usando coordenadas:', error);\r\n            setLocation(prev => ({\r\n              ...prev,\r\n              address: `Coordenadas: ${lat.toFixed(6)}, ${lng.toFixed(6)}`,\r\n              coordinates: { lat, lng }\r\n            }));\r\n          }\r\n          \r\n        } catch (error) {\r\n          console.error('Error al procesar ubicaci√≥n:', error);\r\n          setError('Error al procesar la ubicaci√≥n obtenida');\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      (error) => {\r\n        let errorMessage = 'No se pudo obtener la ubicaci√≥n actual';\r\n        \r\n        switch (error.code) {\r\n          case error.PERMISSION_DENIED:\r\n            errorMessage = 'Permiso de ubicaci√≥n denegado. Por favor, permite el acceso a tu ubicaci√≥n.';\r\n            break;\r\n          case error.POSITION_UNAVAILABLE:\r\n            errorMessage = 'Informaci√≥n de ubicaci√≥n no disponible.';\r\n            break;\r\n          case error.TIMEOUT:\r\n            errorMessage = 'Tiempo de espera agotado al obtener ubicaci√≥n.';\r\n            break;\r\n          default:\r\n            errorMessage = 'Error desconocido al obtener ubicaci√≥n.';\r\n            break;\r\n        }\r\n        \r\n        setError(errorMessage);\r\n        setLoading(false);\r\n      },\r\n      {\r\n        enableHighAccuracy: true,\r\n        timeout: 15000,\r\n        maximumAge: 60000\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"step-container\">\r\n      <h2 className=\"step-title\">Selecciona tu Ubicaci√≥n</h2>\r\n      \r\n      <div className=\"region-selector\">\r\n        <label className=\"label\">Regi√≥n:</label>\r\n        <select\r\n          value={location.region}\r\n          onChange={(e) => setLocation(prev => ({ ...prev, region: e.target.value }))}\r\n          className=\"select\"\r\n        >\r\n          <option value=\"\">Selecciona una regi√≥n</option>\r\n          {regions.map(region => (\r\n            <option key={region.value} value={region.value}>\r\n              {region.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"map-container\">\r\n        <div className=\"map-controls\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={getCurrentLocation}\r\n            disabled={loading}\r\n            className=\"location-button\"\r\n          >\r\n            {loading ? 'Obteniendo ubicaci√≥n...' : 'Usar mi ubicaci√≥n actual'}\r\n          </button>\r\n          <p className=\"map-instructions\">\r\n            üìç Haz clic en el mapa para seleccionar tu ubicaci√≥n de entrega\r\n          </p>\r\n        </div>\r\n        \r\n        <div ref={mapRef} className=\"map\"></div>\r\n        \r\n        {location.address && (\r\n          <div className=\"address-confirmation\">\r\n            <p className=\"address-text\">\r\n              <strong>Direcci√≥n seleccionada:</strong><br />\r\n              {location.address}\r\n            </p>\r\n            <div className=\"confirmation-buttons\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setLocation(prev => ({ ...prev, confirmed: true }))}\r\n                className={`button ${location.confirmed ? 'confirmed-button' : 'confirm-button'}`}\r\n              >\r\n                {location.confirmed ? '‚úì Confirmado' : 'Confirmar ubicaci√≥n'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"navigation-buttons\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onNext}\r\n          disabled={!canProceed}\r\n          className={`button next-button ${!canProceed ? 'disabled-button' : ''}`}\r\n        >\r\n          Siguiente\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocationStep;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}