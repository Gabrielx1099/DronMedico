{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gv250\\\\OneDrive\\\\Escritorio\\\\Productos\\\\frontend\\\\src\\\\components\\\\Vuelos.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport '../css/SimuladorVuelo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightTracking = ({\n  flightId\n}) => {\n  _s();\n  var _flightData$dron, _flightData$solicitud, _flightData$dron2, _flightData$solicitud2, _flightData$solicitud3, _flightData$solicitud4;\n  const [flightData, setFlightData] = useState(null);\n  const [progress, setProgress] = useState(0);\n  const [currentDistance, setCurrentDistance] = useState(0);\n  const [timeRemaining, setTimeRemaining] = useState(0);\n  const [isFlightComplete, setIsFlightComplete] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [confirmingDelivery, setConfirmingDelivery] = useState(false);\n  const [deliveryConfirmed, setDeliveryConfirmed] = useState(false);\n  const intervalRef = useRef(null);\n  const startTimeRef = useRef(null);\n\n  // Duración del vuelo en milisegundos (2-3 minutos)\n  const FLIGHT_DURATION = 2.5 * 60 * 1000; // 2.5 minutos\n  const TOTAL_DISTANCE = 15.8; // km aproximados\n\n  // Cargar datos del vuelo desde la API\n  useEffect(() => {\n    const loadFlightData = async () => {\n      try {\n        setLoading(true);\n        setError('');\n        console.log('Cargando datos del vuelo ID:', flightId);\n\n        // Obtener datos del vuelo desde la API\n        const response = await fetch(`http://localhost:8081/api/vuelos/${flightId}`);\n        if (!response.ok) {\n          throw new Error(`Error ${response.status}: ${response.statusText}`);\n        }\n        const flight = await response.json();\n        console.log('Datos del vuelo cargados:', flight);\n        setFlightData(flight);\n\n        // Verificar si el vuelo ya está completado\n        if (flight.estadoEntrega === 'confirmado') {\n          setIsFlightComplete(true);\n          setDeliveryConfirmed(true);\n          setProgress(100);\n          setCurrentDistance(TOTAL_DISTANCE);\n          setTimeRemaining(0);\n        } else {\n          // Iniciar el seguimiento si el vuelo está en progreso\n          startFlightTracking();\n        }\n      } catch (err) {\n        console.error('Error al cargar vuelo:', err);\n        setError(`Error al cargar los datos del vuelo: ${err.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (flightId) {\n      loadFlightData();\n    }\n\n    // Cleanup\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [flightId]);\n  const startFlightTracking = () => {\n    startTimeRef.current = Date.now();\n    intervalRef.current = setInterval(() => {\n      const elapsed = Date.now() - startTimeRef.current;\n      const progressPercent = Math.min(elapsed / FLIGHT_DURATION * 100, 100);\n      const distanceTraveled = Math.min(elapsed / FLIGHT_DURATION * TOTAL_DISTANCE, TOTAL_DISTANCE);\n      const timeLeft = Math.max(FLIGHT_DURATION - elapsed, 0);\n      setProgress(progressPercent);\n      setCurrentDistance(distanceTraveled);\n      setTimeRemaining(timeLeft);\n\n      // Completar vuelo cuando llegue al 100%\n      if (progressPercent >= 100) {\n        setIsFlightComplete(true);\n        clearInterval(intervalRef.current);\n      }\n    }, 100); // Actualizar cada 100ms para suavidad\n  };\n  const formatTime = milliseconds => {\n    const totalSeconds = Math.ceil(milliseconds / 1000);\n    const minutes = Math.floor(totalSeconds / 60);\n    const seconds = totalSeconds % 60;\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  const confirmDelivery = async () => {\n    try {\n      setConfirmingDelivery(true);\n      setError('');\n      console.log('Confirmando entrega del vuelo:', flightId);\n\n      // Calcular datos finales del vuelo\n      const finalFlightData = {\n        fechaInicio: flightData.fechaInicio,\n        fechaFin: new Date().toISOString(),\n        duracionMinutos: Math.round(FLIGHT_DURATION / 60000),\n        // Convertir a minutos\n        distanciaKm: TOTAL_DISTANCE,\n        estadoEntrega: 'confirmado',\n        solicitud: flightData.solicitud,\n        dron: flightData.dron\n      };\n      console.log('Datos finales del vuelo:', finalFlightData);\n\n      // Actualizar vuelo usando PUT\n      const flightResponse = await fetch(`http://localhost:8081/api/vuelos/${flightId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(finalFlightData)\n      });\n      if (!flightResponse.ok) {\n        const errorText = await flightResponse.text();\n        throw new Error(`Error al actualizar vuelo: ${errorText}`);\n      }\n      console.log('Vuelo actualizado exitosamente');\n\n      // Actualizar solicitud a confirmado usando PATCH\n      const requestResponse = await fetch(`http://localhost:8081/api/solicitudes/${flightData.solicitud.id}/estado?nuevoEstado=confirmado`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!requestResponse.ok) {\n        const errorText = await requestResponse.text();\n        throw new Error(`Error al actualizar solicitud: ${errorText}`);\n      }\n      console.log('Solicitud actualizada exitosamente');\n      setDeliveryConfirmed(true);\n\n      // Redireccionar después de 3 segundos\n      setTimeout(() => {\n        window.location.href = '/dashboard.html';\n      }, 3000);\n    } catch (err) {\n      console.error('Error al confirmar entrega:', err);\n      setError(`Error al confirmar la entrega: ${err.message}`);\n    } finally {\n      setConfirmingDelivery(false);\n    }\n  };\n  const formatDateTime = dateString => {\n    if (!dateString) return 'N/A';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleString('es-ES', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      });\n    } catch (error) {\n      return 'Fecha inválida';\n    }\n  };\n  const getEstadoDisplay = estado => {\n    const estados = {\n      'pendiente': 'Pendiente',\n      'en_progreso': 'En Progreso',\n      'completado': 'Completado',\n      'cancelado': 'Cancelado',\n      'confirmado': 'Confirmado'\n    };\n    return estados[estado] || estado;\n  };\n  const getSolicitudEstadoDisplay = estado => {\n    const estados = {\n      'pendiente': 'Pendiente',\n      'asignada': 'Asignada',\n      'en_progreso': 'En Progreso',\n      'completada': 'Completada',\n      'cancelada': 'Cancelada',\n      'confirmado': 'Confirmada'\n    };\n    return estados[estado] || estado;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Cargando informaci\\xF3n del vuelo...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md text-center max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-4xl mb-4\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800 mb-2\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          className: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n          children: \"Reintentar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this);\n  }\n  if (deliveryConfirmed) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md text-center max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-green-500 text-6xl mb-4\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-2\",\n          children: \"\\xA1Entrega Confirmada!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-2\",\n          children: \"Tu solicitud ha sido completada exitosamente.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Ser\\xE1s redirigido en unos segundos...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-800 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            children: \"\\uD83D\\uDE81\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), \"Seguimiento de Vuelo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: \"ID Vuelo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-gray-800\",\n              children: (flightData === null || flightData === void 0 ? void 0 : flightData.id) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Dron\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-gray-800\",\n              children: (flightData === null || flightData === void 0 ? void 0 : (_flightData$dron = flightData.dron) === null || _flightData$dron === void 0 ? void 0 : _flightData$dron.identificador) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Destino\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-gray-800\",\n              children: (flightData === null || flightData === void 0 ? void 0 : (_flightData$solicitud = flightData.solicitud) === null || _flightData$solicitud === void 0 ? void 0 : _flightData$solicitud.destino) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-800\",\n            children: !isFlightComplete ? '🛫 Dron en Vuelo' : '🎯 Dron Llegó al Destino'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `px-3 py-1 rounded-full text-sm font-medium ${!isFlightComplete ? 'bg-blue-100 text-blue-800' : 'bg-green-100 text-green-800'}`,\n            children: !isFlightComplete ? 'En Tránsito' : 'En Destino'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), !isFlightComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Tiempo estimado de llegada:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: formatTime(timeRemaining)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-semibold text-gray-800\",\n            children: \"Progreso del Vuelo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold text-blue-600\",\n            children: [Math.round(progress), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-200 rounded-full h-4 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-500 h-4 rounded-full transition-all duration-300 ease-out relative\",\n              style: {\n                width: `${progress}%`\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute -top-2 -right-2 text-2xl\",\n                children: \"\\uD83D\\uDE81\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between text-sm text-gray-600 mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Origen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Destino\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-3xl mr-4\",\n              children: \"\\uD83D\\uDCCF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Distancia Recorrida\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg font-semibold text-gray-800\",\n                children: [currentDistance.toFixed(1), \" km / \", TOTAL_DISTANCE, \" km\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-3xl mr-4\",\n              children: \"\\u26A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Velocidad Promedio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg font-semibold text-gray-800\",\n                children: [startTimeRef.current ? (currentDistance / ((Date.now() - startTimeRef.current) / 1000 / 60 / 60) || 0).toFixed(1) : '0.0', \" km/h\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-3xl mr-4\",\n              children: \"\\uD83D\\uDD0B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Bater\\xEDa del Dron\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg font-semibold text-gray-800\",\n                children: (flightData === null || flightData === void 0 ? void 0 : (_flightData$dron2 = flightData.dron) === null || _flightData$dron2 === void 0 ? void 0 : _flightData$dron2.nivelBateria) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-800 mb-4\",\n          children: \"Cronolog\\xEDa del Vuelo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm\",\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: \"Vuelo Iniciado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: formatDateTime(flightData === null || flightData === void 0 ? void 0 : flightData.fechaInicio)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex-shrink-0 w-8 h-8 ${progress > 50 ? 'bg-green-500' : 'bg-yellow-500'} rounded-full flex items-center justify-center text-white font-bold text-sm`,\n                children: progress > 50 ? '✓' : '⏳'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: \"En Tr\\xE1nsito\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: progress > 50 ? 'Completado' : 'En progreso...'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex-shrink-0 w-8 h-8 ${isFlightComplete ? 'bg-green-500' : 'bg-gray-400'} rounded-full flex items-center justify-center text-white font-bold text-sm`,\n                children: isFlightComplete ? '✓' : '⏳'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: \"Llegada al Destino\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: isFlightComplete ? 'Completado' : 'Pendiente'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-800 mb-4\",\n          children: \"Detalles de la Solicitud\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Estado de Solicitud:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-medium text-gray-800\",\n              children: getSolicitudEstadoDisplay(flightData === null || flightData === void 0 ? void 0 : (_flightData$solicitud2 = flightData.solicitud) === null || _flightData$solicitud2 === void 0 ? void 0 : _flightData$solicitud2.estadoSolicitud)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Prioridad:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-medium text-gray-800\",\n              children: (flightData === null || flightData === void 0 ? void 0 : (_flightData$solicitud3 = flightData.solicitud) === null || _flightData$solicitud3 === void 0 ? void 0 : _flightData$solicitud3.prioridad) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Regi\\xF3n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-medium text-gray-800\",\n              children: (flightData === null || flightData === void 0 ? void 0 : (_flightData$solicitud4 = flightData.solicitud) === null || _flightData$solicitud4 === void 0 ? void 0 : _flightData$solicitud4.region) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Estado de Entrega:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-medium text-gray-800\",\n              children: getEstadoDisplay(flightData === null || flightData === void 0 ? void 0 : flightData.estadoEntrega)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this), isFlightComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl mb-4\",\n            children: \"\\uD83C\\uDF89\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-gray-800 mb-2\",\n            children: \"\\xA1El dron ha llegado a tu ubicaci\\xF3n!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-6\",\n            children: \"Por favor, confirma que has recibido tu pedido correctamente.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold\",\n            onClick: confirmDelivery,\n            disabled: confirmingDelivery,\n            children: confirmingDelivery ? 'Confirmando...' : 'Confirmar Llegada de Envío'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightTracking, \"UGYEmklrFcGJ3Kse7RZY2AU0KPM=\");\n_c = FlightTracking;\nexport default FlightTracking;\nvar _c;\n$RefreshReg$(_c, \"FlightTracking\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","FlightTracking","flightId","_s","_flightData$dron","_flightData$solicitud","_flightData$dron2","_flightData$solicitud2","_flightData$solicitud3","_flightData$solicitud4","flightData","setFlightData","progress","setProgress","currentDistance","setCurrentDistance","timeRemaining","setTimeRemaining","isFlightComplete","setIsFlightComplete","loading","setLoading","error","setError","confirmingDelivery","setConfirmingDelivery","deliveryConfirmed","setDeliveryConfirmed","intervalRef","startTimeRef","FLIGHT_DURATION","TOTAL_DISTANCE","loadFlightData","console","log","response","fetch","ok","Error","status","statusText","flight","json","estadoEntrega","startFlightTracking","err","message","current","clearInterval","Date","now","setInterval","elapsed","progressPercent","Math","min","distanceTraveled","timeLeft","max","formatTime","milliseconds","totalSeconds","ceil","minutes","floor","seconds","toString","padStart","confirmDelivery","finalFlightData","fechaInicio","fechaFin","toISOString","duracionMinutos","round","distanciaKm","solicitud","dron","flightResponse","method","headers","body","JSON","stringify","errorText","text","requestResponse","id","setTimeout","window","location","href","formatDateTime","dateString","date","toLocaleString","year","month","day","hour","minute","second","getEstadoDisplay","estado","estados","getSolicitudEstadoDisplay","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","reload","identificador","destino","style","width","toFixed","nivelBateria","estadoSolicitud","prioridad","region","disabled","_c","$RefreshReg$"],"sources":["C:/Users/gv250/OneDrive/Escritorio/Productos/frontend/src/components/Vuelos.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport '../css/SimuladorVuelo.css'\r\n\r\n\r\nconst FlightTracking = ({ flightId }) => {\r\n  const [flightData, setFlightData] = useState(null);\r\n  const [progress, setProgress] = useState(0);\r\n  const [currentDistance, setCurrentDistance] = useState(0);\r\n  const [timeRemaining, setTimeRemaining] = useState(0);\r\n  const [isFlightComplete, setIsFlightComplete] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [confirmingDelivery, setConfirmingDelivery] = useState(false);\r\n  const [deliveryConfirmed, setDeliveryConfirmed] = useState(false);\r\n  \r\n  const intervalRef = useRef(null);\r\n  const startTimeRef = useRef(null);\r\n  \r\n  // Duración del vuelo en milisegundos (2-3 minutos)\r\n  const FLIGHT_DURATION = 2.5 * 60 * 1000; // 2.5 minutos\r\n  const TOTAL_DISTANCE = 15.8; // km aproximados\r\n  \r\n  // Cargar datos del vuelo desde la API\r\n  useEffect(() => {\r\n    const loadFlightData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        console.log('Cargando datos del vuelo ID:', flightId);\r\n        \r\n        // Obtener datos del vuelo desde la API\r\n        const response = await fetch(`http://localhost:8081/api/vuelos/${flightId}`);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`Error ${response.status}: ${response.statusText}`);\r\n        }\r\n        \r\n        const flight = await response.json();\r\n        console.log('Datos del vuelo cargados:', flight);\r\n        \r\n        setFlightData(flight);\r\n        \r\n        // Verificar si el vuelo ya está completado\r\n        if (flight.estadoEntrega === 'confirmado') {\r\n          setIsFlightComplete(true);\r\n          setDeliveryConfirmed(true);\r\n          setProgress(100);\r\n          setCurrentDistance(TOTAL_DISTANCE);\r\n          setTimeRemaining(0);\r\n        } else {\r\n          // Iniciar el seguimiento si el vuelo está en progreso\r\n          startFlightTracking();\r\n        }\r\n        \r\n      } catch (err) {\r\n        console.error('Error al cargar vuelo:', err);\r\n        setError(`Error al cargar los datos del vuelo: ${err.message}`);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    if (flightId) {\r\n      loadFlightData();\r\n    }\r\n    \r\n    // Cleanup\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    };\r\n  }, [flightId]);\r\n  \r\n  const startFlightTracking = () => {\r\n    startTimeRef.current = Date.now();\r\n    \r\n    intervalRef.current = setInterval(() => {\r\n      const elapsed = Date.now() - startTimeRef.current;\r\n      const progressPercent = Math.min((elapsed / FLIGHT_DURATION) * 100, 100);\r\n      const distanceTraveled = Math.min((elapsed / FLIGHT_DURATION) * TOTAL_DISTANCE, TOTAL_DISTANCE);\r\n      const timeLeft = Math.max(FLIGHT_DURATION - elapsed, 0);\r\n      \r\n      setProgress(progressPercent);\r\n      setCurrentDistance(distanceTraveled);\r\n      setTimeRemaining(timeLeft);\r\n      \r\n      // Completar vuelo cuando llegue al 100%\r\n      if (progressPercent >= 100) {\r\n        setIsFlightComplete(true);\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    }, 100); // Actualizar cada 100ms para suavidad\r\n  };\r\n  \r\n  const formatTime = (milliseconds) => {\r\n    const totalSeconds = Math.ceil(milliseconds / 1000);\r\n    const minutes = Math.floor(totalSeconds / 60);\r\n    const seconds = totalSeconds % 60;\r\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n  \r\n  const confirmDelivery = async () => {\r\n    try {\r\n      setConfirmingDelivery(true);\r\n      setError('');\r\n      \r\n      console.log('Confirmando entrega del vuelo:', flightId);\r\n      \r\n      // Calcular datos finales del vuelo\r\n      const finalFlightData = {\r\n        fechaInicio: flightData.fechaInicio,\r\n        fechaFin: new Date().toISOString(),\r\n        duracionMinutos: Math.round(FLIGHT_DURATION / 60000), // Convertir a minutos\r\n        distanciaKm: TOTAL_DISTANCE,\r\n        estadoEntrega: 'confirmado',\r\n        solicitud: flightData.solicitud,\r\n        dron: flightData.dron\r\n      };\r\n      \r\n      console.log('Datos finales del vuelo:', finalFlightData);\r\n      \r\n      // Actualizar vuelo usando PUT\r\n      const flightResponse = await fetch(`http://localhost:8081/api/vuelos/${flightId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(finalFlightData),\r\n      });\r\n      \r\n      if (!flightResponse.ok) {\r\n        const errorText = await flightResponse.text();\r\n        throw new Error(`Error al actualizar vuelo: ${errorText}`);\r\n      }\r\n      \r\n      console.log('Vuelo actualizado exitosamente');\r\n      \r\n      // Actualizar solicitud a confirmado usando PATCH\r\n      const requestResponse = await fetch(`http://localhost:8081/api/solicitudes/${flightData.solicitud.id}/estado?nuevoEstado=confirmado`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n      \r\n      if (!requestResponse.ok) {\r\n        const errorText = await requestResponse.text();\r\n        throw new Error(`Error al actualizar solicitud: ${errorText}`);\r\n      }\r\n      \r\n      console.log('Solicitud actualizada exitosamente');\r\n      \r\n      setDeliveryConfirmed(true);\r\n      \r\n      // Redireccionar después de 3 segundos\r\n      setTimeout(() => {\r\n        window.location.href = '/dashboard.html';\r\n      }, 3000);\r\n      \r\n    } catch (err) {\r\n      console.error('Error al confirmar entrega:', err);\r\n      setError(`Error al confirmar la entrega: ${err.message}`);\r\n    } finally {\r\n      setConfirmingDelivery(false);\r\n    }\r\n  };\r\n  \r\n  const formatDateTime = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    \r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleString('es-ES', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit'\r\n      });\r\n    } catch (error) {\r\n      return 'Fecha inválida';\r\n    }\r\n  };\r\n  \r\n  const getEstadoDisplay = (estado) => {\r\n    const estados = {\r\n      'pendiente': 'Pendiente',\r\n      'en_progreso': 'En Progreso',\r\n      'completado': 'Completado',\r\n      'cancelado': 'Cancelado',\r\n      'confirmado': 'Confirmado'\r\n    };\r\n    return estados[estado] || estado;\r\n  };\r\n  \r\n  const getSolicitudEstadoDisplay = (estado) => {\r\n    const estados = {\r\n      'pendiente': 'Pendiente',\r\n      'asignada': 'Asignada',\r\n      'en_progreso': 'En Progreso',\r\n      'completada': 'Completada',\r\n      'cancelada': 'Cancelada',\r\n      'confirmado': 'Confirmada'\r\n    };\r\n    return estados[estado] || estado;\r\n  };\r\n  \r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"bg-white p-8 rounded-lg shadow-md text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Cargando información del vuelo...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"bg-white p-8 rounded-lg shadow-md text-center max-w-md\">\r\n          <div className=\"text-red-500 text-4xl mb-4\">❌</div>\r\n          <h2 className=\"text-xl font-bold text-gray-800 mb-2\">Error</h2>\r\n          <p className=\"text-gray-600 mb-4\">{error}</p>\r\n          <button \r\n            onClick={() => window.location.reload()}\r\n            className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n          >\r\n            Reintentar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (deliveryConfirmed) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"bg-white p-8 rounded-lg shadow-md text-center max-w-md\">\r\n          <div className=\"text-green-500 text-6xl mb-4\">✅</div>\r\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">¡Entrega Confirmada!</h2>\r\n          <p className=\"text-gray-600 mb-2\">Tu solicitud ha sido completada exitosamente.</p>\r\n          <p className=\"text-sm text-gray-500\">Serás redirigido en unos segundos...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-4 flex items-center\">\r\n            <span className=\"mr-2\">🚁</span>\r\n            Seguimiento de Vuelo\r\n          </h1>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-sm text-gray-500\">ID Vuelo</span>\r\n              <span className=\"font-semibold text-gray-800\">{flightData?.id || 'N/A'}</span>\r\n            </div>\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-sm text-gray-500\">Dron</span>\r\n              <span className=\"font-semibold text-gray-800\">{flightData?.dron?.identificador || 'N/A'}</span>\r\n            </div>\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-sm text-gray-500\">Destino</span>\r\n              <span className=\"font-semibold text-gray-800\">{flightData?.solicitud?.destino || 'N/A'}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Status */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h2 className=\"text-xl font-bold text-gray-800\">\r\n              {!isFlightComplete ? '🛫 Dron en Vuelo' : '🎯 Dron Llegó al Destino'}\r\n            </h2>\r\n            <div className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n              !isFlightComplete \r\n                ? 'bg-blue-100 text-blue-800' \r\n                : 'bg-green-100 text-green-800'\r\n            }`}>\r\n              {!isFlightComplete ? 'En Tránsito' : 'En Destino'}\r\n            </div>\r\n          </div>\r\n          \r\n          {!isFlightComplete && (\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-gray-600\">Tiempo estimado de llegada:</span>\r\n              <span className=\"text-2xl font-bold text-blue-600\">{formatTime(timeRemaining)}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Progress Bar */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <span className=\"text-lg font-semibold text-gray-800\">Progreso del Vuelo</span>\r\n            <span className=\"text-lg font-bold text-blue-600\">{Math.round(progress)}%</span>\r\n          </div>\r\n          \r\n          <div className=\"relative\">\r\n            <div className=\"w-full bg-gray-200 rounded-full h-4 mb-2\">\r\n              <div \r\n                className=\"bg-blue-500 h-4 rounded-full transition-all duration-300 ease-out relative\"\r\n                style={{ width: `${progress}%` }}\r\n              >\r\n                <div className=\"absolute -top-2 -right-2 text-2xl\">\r\n                  🚁\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex justify-between text-sm text-gray-600 mt-2\">\r\n              <span>Origen</span>\r\n              <span>Destino</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Metrics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"text-3xl mr-4\">📏</div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Distancia Recorrida</div>\r\n                <div className=\"text-lg font-semibold text-gray-800\">\r\n                  {currentDistance.toFixed(1)} km / {TOTAL_DISTANCE} km\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"text-3xl mr-4\">⚡</div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Velocidad Promedio</div>\r\n                <div className=\"text-lg font-semibold text-gray-800\">\r\n                  {startTimeRef.current \r\n                    ? ((currentDistance / ((Date.now() - startTimeRef.current) / 1000 / 60 / 60)) || 0).toFixed(1)\r\n                    : '0.0'\r\n                  } km/h\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"text-3xl mr-4\">🔋</div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Batería del Dron</div>\r\n                <div className=\"text-lg font-semibold text-gray-800\">\r\n                  {flightData?.dron?.nivelBateria || 'N/A'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Timeline */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Cronología del Vuelo</h3>\r\n          \r\n          <div className=\"relative\">\r\n            <div className=\"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-300\"></div>\r\n            \r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm\">\r\n                  ✓\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <div className=\"font-semibold text-gray-800\">Vuelo Iniciado</div>\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    {formatDateTime(flightData?.fechaInicio)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <div className={`flex-shrink-0 w-8 h-8 ${progress > 50 ? 'bg-green-500' : 'bg-yellow-500'} rounded-full flex items-center justify-center text-white font-bold text-sm`}>\r\n                  {progress > 50 ? '✓' : '⏳'}\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <div className=\"font-semibold text-gray-800\">En Tránsito</div>\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    {progress > 50 ? 'Completado' : 'En progreso...'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <div className={`flex-shrink-0 w-8 h-8 ${isFlightComplete ? 'bg-green-500' : 'bg-gray-400'} rounded-full flex items-center justify-center text-white font-bold text-sm`}>\r\n                  {isFlightComplete ? '✓' : '⏳'}\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <div className=\"font-semibold text-gray-800\">Llegada al Destino</div>\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    {isFlightComplete ? 'Completado' : 'Pendiente'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Detalles Adicionales */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Detalles de la Solicitud</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <span className=\"text-sm text-gray-500\">Estado de Solicitud:</span>\r\n              <span className=\"ml-2 font-medium text-gray-800\">\r\n                {getSolicitudEstadoDisplay(flightData?.solicitud?.estadoSolicitud)}\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <span className=\"text-sm text-gray-500\">Prioridad:</span>\r\n              <span className=\"ml-2 font-medium text-gray-800\">\r\n                {flightData?.solicitud?.prioridad || 'N/A'}\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <span className=\"text-sm text-gray-500\">Región:</span>\r\n              <span className=\"ml-2 font-medium text-gray-800\">\r\n                {flightData?.solicitud?.region || 'N/A'}\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <span className=\"text-sm text-gray-500\">Estado de Entrega:</span>\r\n              <span className=\"ml-2 font-medium text-gray-800\">\r\n                {getEstadoDisplay(flightData?.estadoEntrega)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Completion Section */}\r\n        {isFlightComplete && (\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-4xl mb-4\">🎉</div>\r\n              <h3 className=\"text-xl font-bold text-gray-800 mb-2\">¡El dron ha llegado a tu ubicación!</h3>\r\n              <p className=\"text-gray-600 mb-6\">Por favor, confirma que has recibido tu pedido correctamente.</p>\r\n              \r\n              <button \r\n                className=\"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold\"\r\n                onClick={confirmDelivery}\r\n                disabled={confirmingDelivery}\r\n              >\r\n                {confirmingDelivery ? 'Confirmando...' : 'Confirmar Llegada de Envío'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlightTracking;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}